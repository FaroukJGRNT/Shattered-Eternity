extends Buff
class_name WeaknessExploit

var def_mul := 0.8


func _init() -> void:
    buff_type = BuffType.SITUATIONAL
    buff_name = "Weakness Exploit"
    buff_description = "Lowers an enemy's defense by 20% when stunned"
    timeout = 4.0
    trigger_event = LivingEntity.Event.ENEMY_STUNNED

func activate(additional : Variant = null):
    additional_ref = additional
    if additional is LivingEntity:
        additional.defense_multipliers.append(def_mul)

func desactivate():
    if additional_ref is LivingEntity:
        daddy.defense_multipliers.erase(def_mul)
